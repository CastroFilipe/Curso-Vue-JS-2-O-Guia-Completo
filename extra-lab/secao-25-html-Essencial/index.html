<!-- Instalar o HTTP SERVER de forma global para disponibilizar a página idenx.html via servidor no
endereço http://localhost:8080
Rodar o comando na pasta raiz do projeto para iniciar o servidor: "http-server ."-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="public/css/style.css">
    <title>Html Essencial</title>
</head>
<body>
    <header>
        <div>HTML ESSENCIAL</div>
        <nav>
            <a href="public/paginas/pagina1.html">Página 1</a> 
            <a href="public/paginas/pagina2.html">Página 2</a> 
            <a href="public/paginas/listas-alinhadas.html">Listas</a> 
        </nav>
    </header>

    <section id="conteudo-container"></section>
    <footer>
        Html essencial
    </footer>
    <script>
        document.querySelectorAll('a').forEach(link =>{//buscará todos os links 'a' da página.
            const elemento = document.getElementById('conteudo-container')
            
            link.onclick = e => { //em cada link adiciona a função que será chamada quando o evento de click ocorrer.
                e.preventDefault()//impede o comportamento padrão de navegar para o link

                fetch(link.href)//faz a chamada ajax
                .then(resp => resp.text())
                .then(html => elemento.innerHTML = html)//adiciona o conteúdo html a section
                .then(() => rodarScript())
            }
        })

        const rodarScript = () => {
            document.querySelectorAll('[folder]').forEach(folder => {
                folder.style.cursor = "pointer"

                folder.onclick = function (e) {
                    const ul = folder.nextElementSibling //pega o proximo elemento após o folder clickado
                    const disp = ul.style.display
                    ul.style.display = disp === 'none' ? 'block' : 'none'
                }
            })
        }
    </script>
</body>
</html>